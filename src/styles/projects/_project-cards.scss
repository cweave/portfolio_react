@use '../_colors.scss';
@import '../variables';
@import '../functions/_functions';

$border-size: min(3vmax, 1px);

$mq-small: 650px;
$mq-medium: 850px;
$mq-vert-small: 650px;

.project-cards {
  &-container {
    display: grid;
    grid-template-columns: 1fr;
    grid-gap: 1.5em;
    padding: 1.5em 0;
    margin-left: rem(50);
    overflow-x: visible;

    @media (min-width: 500px) {
      grid-template-columns: repeat(auto-fill, minmax(min(325px, 100%), 1fr));
      grid-gap: 2em;
      padding: 2em 0;
      margin: 0 1em;
    }

    @media (min-width: 900px) {
      grid-template-columns: repeat(auto-fill, minmax(325px, 350px));
      grid-auto-flow: column;
      grid-auto-columns: minmax(325px, 350px);
      overflow-x: auto;
      padding: 3em 0;
      margin: 0 3em;
      scrollbar-width: thin;
      scrollbar-color: colors.$orange rgba(colors.$black-lighter, 0.5);
    }
  }

  box-shadow: 0 4px 8px rgba(colors.$black-lighter, 0.5);
  border-radius: 10px;
  border-top: $border-size solid colors.$orange;
  border-left: $border-size solid colors.$orange;
  border-right: $border-size solid colors.$black;
  border-bottom: $border-size solid colors.$black;
  place-content: flex-start center;
  min-height: 320px;
  height: auto;
  max-height: 420px;
  background-color: colors.$black-lighter;
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  @media (min-width: 640px) {
    min-height: 360px;
    height: 400px;
    max-height: none;
  }

  @media (min-width: $mq-small) and (max-height: $mq-small) {
    $poster-border: 30px;
    border-top: 8px solid;
  }  

  .accent {
    color: colors.$white;
    padding: 0.5em 0.75em;
    text-decoration: none;

    background:
    linear-gradient(
      to right,
      colors.$orange,
      colors.$orange
    ),
    linear-gradient(
      to right,
      colors.$orange,
      colors.$purple,
      colors.$green
  );
    background-size: 100% 3px, 0 3px;
    background-position: 100% 100%, 0 100%;
    background-repeat: no-repeat;
    transition: background-size 400ms;
  }

  a.accent:hover,
  a.accent:active,
  a.accent:focus {
    color: colors.$orange;
    background-size: 0 3px, 100% 3px;
  }

  &__heading {
    padding: rem(8);
    margin: 0;

    @media (min-width: 640px) {
      padding: rem(6);
    }

    &-title {
      display: block;
      font-size: clamp(1.25em, 4vw, 2.5em);
      letter-spacing: -0.03em;
      line-height: 1.2;
      margin: $border-size;
      color: colors.$orange;
      word-break: break-word;

      @media (min-width: $mq-small) and (max-height: $mq-small) {
        font-size: clamp(1.5em, 8vw, 2em);
      }
    }

    &-updated {
      font-style: italic;
      font-size: 0.85rem;
      color: colors.$gray;
    }
  }

  &__description {
    margin: 0.75em 0;
    overflow-y: auto;
    padding: 0 rem(8);
    -webkit-overflow-scrolling: touch;

    p {
      margin: 0;
      font-size: clamp(rem(14), 2vw, rem(24)) !important;
      line-height: 1.4 !important;
    }
  }
}

.project__technologies {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  place-content: space-between space-evenly;
  gap: 0.5em;
  margin: 0;
  padding: 0 rem(8) 1em;
  text-transform: uppercase;

  li a {
    min-height: 44px;
    align-items: center;
  }
}